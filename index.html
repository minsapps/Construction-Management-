<!DOCTYPE html>
<html>
<head>
  <title>Construction Management Login</title>

  <!-- Firebase v8 (works on GitHub Pages) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

  <style>
    body { font-family: Arial; padding: 20px; }
    .box { width: 300px; padding: 20px; border: 1px solid #ccc; margin-bottom: 20px; }
  </style>
</head>
<body>

  <h1>Construction Management Login</h1>

  <div class="box">
    <h3>Create Admin</h3>
    <input id="adminEmail" type="email" placeholder="Admin Email"><br><br>
    <input id="adminPassword" type="password" placeholder="Password"><br><br>
    <button onclick="createAdmin()">Create Admin</button>
  </div>

  <div class="box">
    <h3>Login</h3>
    <input id="loginEmail" type="email" placeholder="Email"><br><br>
    <input id="loginPassword" type="password" placeholder="Password"><br><br>
    <button onclick="loginUser()">Login</button>
  </div>

  <script>
    // Firebase config from your dashboard
    var firebaseConfig = {
      apiKey: "AIzaSyB7GclJLT79eSM0WAYAcWSYm-VMYTbJFPk",
      authDomain: "construction-management-f48cb.firebaseapp.com",
      projectId: "construction-management-f48cb",
      storageBucket: "construction-management-f48cb.appspot.com",
      messagingSenderId: "1013084592344",
      appId: "1:1013084592344:web:79226b78462dbfbd519f2b"
    };

    // Initialize Firebase (v8 syntax)
    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();

    // Create Admin
    async function createAdmin() {
      const email = document.getElementById("adminEmail").value;
      const password = document.getElementById("adminPassword").value;

      try {
        await auth.createUserWithEmailAndPassword(email, password);
        alert("Admin created!");
      } catch (err) {
        alert("ERROR: " + err.message);
      }
    }

    // Login
    async function loginUser() {
      const email = document.getElementById("loginEmail").value;
      const password = document.getElementById("loginPassword").value;

      try {
        await auth.signInWithEmailAndPassword(email, password);
        window.location.href = "admin.html";
      } catch (err) {
        alert("Login Error: " + err.message);
      }
    }
  </script>

</body>
</html>
